{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/actionTypes.js","../src/storage.js","../src/actions.js","../src/components/AddCartButton/index.js","../src/components/Cart/Thumb.js","../src/helpers.js","../src/components/Cart/CartProduct.js","../src/components/Cart/index.js","../src/reducers.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export const LOAD_CART = \"LOAD_CART\";\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const REMOVE_PRODUCT = \"REMOVE_PRODUCT\";\nexport const UPDATE_CART = \"UPDATE_CART\";\n","const storage = () => {\n    const key = 'cartProducts';\n    return {\n      persist: (data) => localStorage.setItem(key, data),\n      get: () => localStorage.getItem(key),\n    }\n  \n  }\n\nexport default storage;","import {\n  LOAD_CART,\n  ADD_PRODUCT,\n  UPDATE_CART,\n  REMOVE_PRODUCT\n} from \"./actionTypes\";\n\nimport storage from './storage';\n\nexport const loadCart = products => ({\n  type: LOAD_CART,\n  payload: products\n});\n\nexport const addProduct = product => ({\n  type: ADD_PRODUCT,\n  payload: product\n});\n\nexport const removeProduct = product => ({\n  type: REMOVE_PRODUCT,\n  payload: product\n});\n\nexport const updateCart = cartProducts => {\n  let productQuantity = cartProducts.reduce((sum, p) => {\n    sum += p.quantity;\n    return sum;\n  }, 0);\n\n  let totalPrice = cartProducts.reduce((sum, p) => {\n    sum += p.price * p.quantity;\n    return sum;\n  }, 0);\n\n  let cartTotal = {\n    productQuantity,\n    totalPrice\n  };\n\n  // we persist the cartProducts to localStorage\n  storage().persist(JSON.stringify(cartProducts));\n  \n  return {\n    type: UPDATE_CART,\n    payload: cartTotal\n  };\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\n\nimport { connect } from \"react-redux\";\nimport { addProduct } from \"../../actions\";\n\nexport class AddCartButton extends Component {\n  static propTypes = {\n    product: PropTypes.object.isRequired,\n    styles: PropTypes.object,\n    addLabel: PropTypes.string\n  };\n\n  static defaultProps = {\n    addLabel: \"Add to Cart\",\n    styles: {\n      backgroundColor: \"#17a2b8\",\n      color: \"white\",\n      border: \"0\"\n    }\n  };\n\n  addProductToCart = (event, product) => {\n    product.quantity = 1;\n    this.props.addProduct(product);\n  };\n\n  render() {\n    const { product, styles, addLabel } = this.props;\n    return (\n      <div>\n        <button\n          style={{ ...styles }}\n          onClick={event => this.addProductToCart(event, product)}\n        >\n          {addLabel}\n        </button>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return { addProduct: product => dispatch(addProduct(product)) };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(AddCartButton);\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Thumb = props => {\n  return (\n    <div className={props.classes}>\n      <img src={props.src} alt={props.alt} title={props.title} />\n    </div>\n  );\n};\n\nThumb.propTypes = {\n  alt: PropTypes.string,\n  title: PropTypes.string,\n  classes: PropTypes.string,\n  src: PropTypes.string.isRequired\n};\n\nexport default Thumb;","export const formatPrice = (price, currencySymbol, lang) => {\n  const formatter = new Intl.NumberFormat(lang, {\n    style: \"currency\",\n    currency: currencySymbol\n  });\n  return formatter.format(price);\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Thumb from \"./Thumb\";\nimport { formatPrice } from \"../../helpers\";\n\nclass CartProduct extends Component {\n  static propTypes = {\n    product: PropTypes.object.isRequired,\n    removeProduct: PropTypes.func.isRequired,\n    currencySymbol: PropTypes.string.isRequired,\n    language: PropTypes.string.isRequired,\n    quantityTextLabel: PropTypes.string.isRequired\n  };\n\n  state = {\n    isMouseOver: false\n  };\n\n  handleMouseOver = () => {\n    this.setState({ isMouseOver: true });\n  };\n\n  handleMouseOut = () => {\n    this.setState({ isMouseOver: false });\n  };\n\n  render() {\n    const {\n      product,\n      removeProduct,\n      currencySymbol,\n      language,\n      quantityTextLabel\n    } = this.props;\n    const classes = [\"shelf-item\"];\n\n    if (!!this.state.isMouseOver) {\n      classes.push(\"shelf-item--mouseover\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        <div\n          className=\"shelf-item__del\"\n          onMouseOver={() => this.handleMouseOver()}\n          onMouseOut={() => this.handleMouseOut()}\n          onClick={() => removeProduct(product)}\n        />\n        <Thumb\n          classes=\"shelf-item__thumb\"\n          src={product.image || \"https://via.placeholder.com/150\"}\n          alt={product.name}\n        />\n        <div className=\"shelf-item__details\">\n          <p className=\"title\">{product.name}</p>\n          <p className=\"desc\">\n            {quantityTextLabel}: {product.quantity}\n          </p>\n        </div>\n        <div className=\"shelf-item__price\">\n          <p>{formatPrice(product.price, currencySymbol, language)}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CartProduct;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./styles.css\";\nimport CartProduct from \"./CartProduct\";\n\nimport { connect } from \"react-redux\";\nimport { loadCart, removeProduct, updateCart } from \"../../actions\";\nimport { formatPrice } from \"../../helpers\";\nimport storage from \"../../storage\";\n\nexport class Cart extends Component {\n  static propTypes = {\n    loadCart: PropTypes.func,\n    updateCart: PropTypes.func,\n    cartProducts: PropTypes.array,\n    productToAdd: PropTypes.object,\n    removeProduct: PropTypes.func,\n    productToRemove: PropTypes.object,\n    currencySymbol: PropTypes.string,\n    languaje: PropTypes.string,\n    handleCheckout: PropTypes.func,\n    checkoutTextLabel: PropTypes.string,\n    cartTextLabel: PropTypes.string,\n    subTotalTextLabel: PropTypes.string,\n    quantityTextLabel: PropTypes.string\n  };\n\n  static defaultProps = {\n    currencySymbol: \"USD\",\n    languaje: \"en-US\",\n    checkoutTextLabel: \"Checkout\",\n    cartTextLabel: \"Your Cart\",\n    subTotalTextLabel: \"Sub Total\",\n    quantityTextLabel: \"Quantity\",\n    cartEmptyLabel: \"Add some products in the cart\"\n  };\n\n  state = {\n    isOpen: false\n  };\n\n  UNSAFE_componentWillMount() {\n    this.props.loadCart(JSON.parse(storage().get()) || []);\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.props.updateCart(this.props.cartProducts);\n    }, 0);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.productToAdd !== this.props.productToAdd) {\n      this.addProduct(nextProps.productToAdd);\n    }\n\n    if (nextProps.productToRemove !== this.props.productToRemove) {\n      this.removeProduct(nextProps.productToRemove);\n    }\n  }\n\n  openFloatCart = () => {\n    this.setState({ isOpen: true });\n  };\n\n  closeFloatCart = () => {\n    this.setState({ isOpen: false });\n  };\n\n  addProduct = product => {\n    const { cartProducts, updateCart } = this.props;\n    let productAlreadyInCart = false;\n    cartProducts &&\n      cartProducts.forEach(cp => {\n        if (cp.id === product.id) {\n          cp.quantity += product.quantity;\n          productAlreadyInCart = true;\n        }\n      });\n    if (!productAlreadyInCart) {\n      cartProducts.push(product);\n    }\n\n    updateCart(cartProducts);\n    this.openFloatCart();\n  };\n\n  removeProduct = product => {\n    const { cartProducts, updateCart } = this.props;\n\n    const index = cartProducts.findIndex(\n      cart_product => cart_product.id === product.id\n    );\n    if (index >= 0) {\n      cartProducts.splice(index, 1);\n      updateCart(cartProducts);\n    }\n  };\n\n  clickCheckout = () => {\n    const { cartProducts, cartTotal, handleCheckout } = this.props;\n    const data = {\n      products: cartProducts,\n      total: cartTotal\n    };\n    handleCheckout(data);\n  };\n\n  render() {\n    const {\n      cartTotal,\n      cartProducts,\n      removeProduct,\n      currencySymbol,\n      languaje,\n      checkoutTextLabel,\n      cartTextLabel,\n      subTotalTextLabel,\n      quantityTextLabel,\n      cartEmptyLabel\n    } = this.props;\n\n    const products =\n      cartProducts &&\n      cartProducts.map(product => {\n        return (\n          <CartProduct\n            product={product}\n            removeProduct={removeProduct}\n            currencySymbol={currencySymbol}\n            languaje={languaje}\n            key={product.id}\n            quantityTextLabel={quantityTextLabel}\n          />\n        );\n      });\n\n    let classes = [\"float\"];\n\n    if (!!this.state.isOpen) {\n      classes.push(\"float-open\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        {this.state.isOpen && (\n          <div\n            onClick={() => this.closeFloatCart()}\n            className=\"float-close-btn\"\n          >\n            X\n          </div>\n        )}\n        {!this.state.isOpen && (\n          <span\n            onClick={() => this.openFloatCart()}\n            className=\"bag bag--float-cart-closed\"\n          >\n            <span className=\"bag__quantity\">{cartTotal.productQuantity}</span>\n          </span>\n        )}\n\n        <div className=\"float-cart__content\">\n          <div className=\"float-cart__header\">\n            <span className=\"header-title\">{cartTextLabel}</span>\n            <span className=\"bag\">\n              <span className=\"bag__quantity\">{cartTotal.productQuantity}</span>\n            </span>\n          </div>\n\n          <div className=\"float-cart__shelf-container\">\n            {products}\n            {cartProducts === undefined ||\n              (cartProducts.length === 0 && (\n                <p className=\"shelf-empty\">{cartEmptyLabel}</p>\n              ))}\n          </div>\n\n          <div className=\"float-cart__footer\">\n            <div className=\"sub\">{subTotalTextLabel}</div>\n            <div className=\"sub-price\">\n              <p className=\"sub-price__val\">\n                {`${formatPrice(\n                  cartTotal.totalPrice,\n                  currencySymbol,\n                  languaje\n                )}`}\n              </p>\n            </div>\n            <div onClick={this.clickCheckout} className=\"continue-btn\">\n              {checkoutTextLabel}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    cartProducts: state.cart.products,\n    productToAdd: state.cart.productToAdd,\n    productToRemove: state.cart.productToRemove,\n    cartTotal: state.cart.data\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadCart: products => dispatch(loadCart(products)),\n    updateCart: products => dispatch(updateCart(products)),\n    removeProduct: product => dispatch(removeProduct(product))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n","import {\n  LOAD_CART,\n  ADD_PRODUCT,\n  UPDATE_CART,\n  REMOVE_PRODUCT\n} from \"./actionTypes\";\n\nconst initialState = {\n  products: [],\n  productToAdd: null,\n  data: {\n    productQuantity: 0,\n    totalPrice: 0\n  }\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case LOAD_CART:\n      return {\n        ...state,\n        products: action.payload\n      };\n    case ADD_PRODUCT:\n      return {\n        ...state,\n        productToAdd: Object.assign({}, action.payload)\n      };\n    case UPDATE_CART:\n      return {\n        ...state,\n        data: action.payload\n      };\n    case REMOVE_PRODUCT:\n      return {\n        ...state,\n        productToRemove: Object.assign({}, action.payload)\n      };\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers } from \"redux\";\nimport { AddCartButton, Cart, CartReducers } from \"./App\";\n\nconst store = createStore(\n  combineReducers({\n    cart: CartReducers\n  })\n);\n\nconst products = [\n  {\n    id: 1,\n    name: \"Flamboyant Pink Top\",\n    sku: \"kskskskks\",\n    price: 2000\n  },\n  {\n    id: 2,\n    name: \"Black and White Stripes Dress\",\n    sku: \"kskskskks\",\n    price: 3000\n  },\n  {\n    id: 3,\n    name: \"Flamboyant Pink Top\",\n    sku: \"kskskskks\",\n    price: 10000\n  },\n  {\n    id: 4,\n    name: \"Flamboyant Pink Top\",\n    sku: \"kskskskks\",\n    price: 5000\n  }\n];\n\nconst handleCheckout = data => {\n  console.log(data);\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <Cart\n      currencySymbol=\"CLP\"\n      languaje=\"es-CL\"\n      handleCheckout={handleCheckout}\n      cartEmptyLabel={\"El carrito está vacio\"}\n      cartTextLabel={\"Carrito de compras\"}\n      checkoutTextLabel={\"Ir a pagar\"}\n      subTotalTextLabel={\"Total\"}\n      quantityTextLabel={\"Cantidad\"}\n    />\n    <div>\n      {products.map((product, key) => {\n        return (\n          <div className=\"col\" key={key}>\n            <div className=\"product-item\">\n              <div className=\"pi-pic\">\n                <img src={product.image} alt={product.name} />\n                <div className=\"pi-links\">\n                  <AddCartButton product={product} />\n                </div>\n              </div>\n              <div className=\"pi-text\">\n                <p>{product.name}</p>\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"names":["LOAD_CART","ADD_PRODUCT","REMOVE_PRODUCT","UPDATE_CART","storage","key","data","localStorage","setItem","getItem","loadCart","products","addProduct","product","removeProduct","updateCart","productQuantity","cartProducts","reduce","sum","p","quantity","totalPrice","price","cartTotal","persist","JSON","stringify","AddCartButton","addProductToCart","event","props","styles","addLabel","Component","propTypes","PropTypes","object","isRequired","string","defaultProps","mapDispatchToProps","dispatch","connect","Thumb","classes","src","alt","title","formatPrice","currencySymbol","lang","formatter","Intl","NumberFormat","format","CartProduct","state","handleMouseOver","setState","isMouseOver","handleMouseOut","language","quantityTextLabel","push","join","image","name","func","Cart","openFloatCart","isOpen","closeFloatCart","productAlreadyInCart","forEach","cp","id","index","findIndex","cart_product","splice","clickCheckout","handleCheckout","parse","get","nextProps","productToAdd","productToRemove","languaje","checkoutTextLabel","cartTextLabel","subTotalTextLabel","cartEmptyLabel","map","undefined","length","array","mapStateToProps","cart","initialState","action","type","payload","Object","assign","store","createStore","combineReducers","CartReducers","log","ReactDOM","render","document","getElementById"],"mappings":"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"}